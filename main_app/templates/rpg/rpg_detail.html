{% extends 'base.html' %}

{% block title %}{{rpg.title}}{% endblock %}

{% block content %}

<h1>{{rpg.title}}</h1>

<div class="rpg_page">
    <div class="rpg_items">
        {% if rpg.stats.all %}
            <h2>{{rpg.stats_name}}</h2>
        
            {% for stat in rpg.stats.all %}
                <h3>{{stat.title}}</h3>
                <p>{{stat.description}}</p>
                <p>{{stat.max_value}}</p>
            {% endfor %}

            <a href="{% url 'stat_create' rpg.pk %}"><button type="button">Add More {{rpg.stats_name}}</button></a>
        {% endif %}

        {% if rpg.classes.all %}
            <h2>{{rpg.classes_name}}</h2>
        
            {% for class in rpg.classes.all %}
                <h3>{{class.title}}</h3>
                <p>{{class.description}}</p>
            {% endfor %}

            <a href="{% url 'classification_create' rpg.pk %}"><button type="button">Add More {{rpg.classes_name}}</button></a>
        {% endif %}

        {% if rpg.entities.all %}
            <h2>{{rpg.entities_name}}</h2>

            {% for entity in rpg.entities.all %}
                <h3>{{entity.title}}</h3>
                <p>{{entity.description}}</p>
            {% endfor %}

            <a href="{% url 'playable_entity_create' rpg.pk %}"><button type="button">Add More {{rpg.entities_name}}</button></a>
        {% endif %}
    </div>

    <div class="add_buttons">
        {% if not rpg.stats.all %}
            <a href="{% url 'stat_create' rpg.pk %}"><button type="button">Add Stats</button></a>
        {% endif %}

        {% if not rpg.classes.all %}
            <a href=""><button type="button">Add Classes</button></a>
        {% endif %}

        {% if not rpg.entities.all %}
            <a href=""><button type="button">Add Playable Entities</button></a>
        {% endif %}
    </div>

    {% if rpg.user == request.user %}
        <div class="edit_buttons">
            <a href="{% url 'rpg_update' rpg.pk %}"><button type="button">Edit RPG</button></a>
            <a href="{% url 'rpg_delete' rpg.pk %}"><button type="button">Delete RPG</button></a>
        </div>
    {% endif %}
</div>

{% endblock %}